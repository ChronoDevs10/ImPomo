name: C++ Test Workflow

on:
  workflow_dispatch:  # Uruchomienie workflow ręcznie z GitHub UI

jobs:
  build:
    runs-on: windows-latest  # Używamy Windows jako systemu operacyjnego

    steps:
      - name: Checkout code
        uses: actions/checkout@v2  # Używamy wersji v2, zamiast v1

      - name: Set up Qt and dependencies
        run: |
          choco install qt6 --installargs 'ADD_TO_PATH=YES'  # Używamy Chocolatey do zainstalowania Qt6

      - name: Install CMake
        run: |
          choco install cmake  # Zainstaluj CMake za pomocą Chocolatey

      - name: Build the project
        run: |
          mkdir build
          cd build
          cmake ..
          cmake --build .

      - name: Run tests
        run: |
          ./tests/test_task  # Upewnij się, że plik testowy jest poprawny
